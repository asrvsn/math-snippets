import numpy as np

# P = np.array([
# 	[.5,.5,0,0],
# 	[.5,0,.5,0],
# 	[.5,0,0,.5],
# 	[0,0,0,1]
# ])

P = np.array([
	[.5,.5,0,0,0,0,0,0,0],
	[0,.5,.5,0,0,0,0,0,0],
	[.5,0,0,.5,0,0,0,0,0],
	[.5,0,0,0,.5,0,0,0,0],
	[.5,0,0,0,0,.5,0,0,0],
	[.5,0,0,0,0,0,.5,0,0],
	[.5,0,0,0,0,0,0,.5,0],
	[.5,0,0,0,0,0,0,0,.5],
	[0,0,0,0,0,0,0,0,1]
])

# P = np.array([
# 	[.5,.5,0,0,0,0,0,0,0],
# 	[.5,0,.5,0,0,0,0,0,0],
# 	[.5,0,0,.5,0,0,0,0,0],
# 	[.5,0,0,0,.5,0,0,0,0],
# 	[0,0,0,0,.5,.5,0,0,0],
# 	[0,.5,0,0,0,0,.5,0,0],
# 	[0,.5,0,0,0,0,0,.5,0],
# 	[0,.5,0,0,0,0,0,0,.5],
# 	[0,0,0,0,0,0,0,0,1]
# ])

# P = np.array([
# 	[.5,.5,0,0,0,0,0,0,0],
# 	[0,.5,.5,0,0,0,0,0,0],
# 	[.5,0,0,.5,0,0,0,0,0],
# 	[0,.5,0,0,.5,0,0,0,0],
# 	[.5,0,0,0,0,.5,0,0,0],
# 	[0,.5,0,0,0,0,.5,0,0],
# 	[.5,0,0,0,0,0,0,.5,0],
# 	[0,.5,0,0,0,0,0,0,.5],
# 	[0,0,0,0,0,0,0,0,1]
# ])

# P = np.array([
# 	[.5,.5,0,0,0,0,0,0,0],
# 	[.5,0,.5,0,0,0,0,0,0],
# 	[.5,0,0,.5,0,0,0,0,0],
# 	[0,0,0,.5,.5,0,0,0,0],
# 	[0,.5,0,0,0,.5,0,0,0],
# 	[.5,0,0,0,0,0,.5,0,0],
# 	[0,0,.5,0,0,0,0,.5,0],
# 	[.5,0,0,0,0,0,0,0,.5],
# 	[0,0,0,0,0,0,0,0,1]
# ])

# P = np.array([
# 	[.5,.5,0,0,0,0,0,0,0],
# 	[.5,0,.5,0,0,0,0,0,0],
# 	[.5,0,0,.5,0,0,0,0,0],
# 	[0,0,0,.5,.5,0,0,0,0],
# 	[0,.5,0,0,0,.5,0,0,0],
# 	[.5,0,0,0,0,0,.5,0,0],
# 	[0,0,.5,0,0,0,0,.5,0],
# 	[.5,0,0,0,0,0,0,0,.5],
# 	[0,0,0,0,0,0,0,0,1]
# ])

d = P.shape[0] - 1
d = 6

x = np.linalg.inv(np.eye(d) - P[:d,:d]) @ np.ones((d,1))
print(x)